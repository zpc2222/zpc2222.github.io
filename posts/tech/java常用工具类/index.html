<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Javaå¸¸ç”¨å·¥å…·ç±» | æˆ‘çš„ä¸ªäººå°ç«™</title><meta name=keywords content="netty,ç½‘ç»œç¼–ç¨‹"><meta name=description content="ä¸€äº›å¸¸ç”¨çš„å·¥å…·ç±»ï¼Œè‡ªç”¨"><meta name=author content="
ä½œè€…:&nbsp;è—é”‹"><link rel=canonical href=https://zpc2222.github.io/posts/tech/java%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://zpc2222.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://zpc2222.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://zpc2222.github.io/img/Q.gif><link rel=apple-touch-icon href=https://zpc2222.github.io/img/Q.gif><link rel=mask-icon href=https://zpc2222.github.io/img/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><meta property="og:title" content="Javaå¸¸ç”¨å·¥å…·ç±»"><meta property="og:description" content="ä¸€äº›å¸¸ç”¨çš„å·¥å…·ç±»ï¼Œè‡ªç”¨"><meta property="og:type" content="article"><meta property="og:url" content="https://zpc2222.github.io/posts/tech/java%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-09-05T00:17:58+08:00"><meta property="article:modified_time" content="2022-09-05T00:17:58+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Javaå¸¸ç”¨å·¥å…·ç±»"><meta name=twitter:description content="ä¸€äº›å¸¸ç”¨çš„å·¥å…·ç±»ï¼Œè‡ªç”¨"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"ğŸ“šæ–‡ç« ","item":"https://zpc2222.github.io/posts/"},{"@type":"ListItem","position":3,"name":"ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯","item":"https://zpc2222.github.io/posts/tech/"},{"@type":"ListItem","position":4,"name":"Javaå¸¸ç”¨å·¥å…·ç±»","item":"https://zpc2222.github.io/posts/tech/java%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Javaå¸¸ç”¨å·¥å…·ç±»","name":"Javaå¸¸ç”¨å·¥å…·ç±»","description":"ä¸€äº›å¸¸ç”¨çš„å·¥å…·ç±»ï¼Œè‡ªç”¨","keywords":["netty","ç½‘ç»œç¼–ç¨‹"],"articleBody":"IPæŸ¥è¯¢çš„ä¸€äº›æ–¹æ³• IP_URL = â€œhttp://whois.pconline.com.cn/ipJson.jsp?ip=%s\u0026json=true\"\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 /** * è·å–ipåœ°å€ */ public static String getIp(HttpServletRequest request) { String ip = request.getHeader(\"x-forwarded-for\"); if (ip == null || ip.length() == 0 || UNKNOWN.equalsIgnoreCase(ip)) { ip = request.getHeader(\"Proxy-Client-IP\"); } if (ip == null || ip.length() == 0 || UNKNOWN.equalsIgnoreCase(ip)) { ip = request.getHeader(\"WL-Proxy-Client-IP\"); } if (ip == null || ip.length() == 0 || UNKNOWN.equalsIgnoreCase(ip)) { ip = request.getRemoteAddr(); } String comma = \",\"; String localhost = \"127.0.0.1\"; if (ip.contains(comma)) { ip = ip.split(\",\")[0]; } if (localhost.equals(ip)) { // è·å–æœ¬æœºçœŸæ­£çš„ipåœ°å€ try { ip = InetAddress.getLocalHost().getHostAddress(); } catch (UnknownHostException e) { e.printStackTrace(); } } return ip; } /** * æ ¹æ®ipè·å–è¯¦ç»†åœ°å€ */ public static String getCityInfo(String ip) { String api = String.format(IP_URL, ip); JSONObject object = JSONUtil.parseObj(HttpUtil.get(api)); return object.get(\"addr\", String.class); } /** * è·å¾—å½“å¤©æ˜¯å‘¨å‡  */ public static String getWeekDay() { String[] weekDays = {\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"}; Calendar cal = Calendar.getInstance(); cal.setTime(new Date()); int w = cal.get(Calendar.DAY_OF_WEEK) - 1; if (w \u003c 0) { w = 0; } return weekDays[w]; } public static String getBrowser(HttpServletRequest request) { UserAgent userAgent = UserAgent.parseUserAgentString(request.getHeader(\"User-Agent\")); Browser browser = userAgent.getBrowser(); return browser.getName(); } /** * å¯¼å‡ºexcel */public static void downloadExcel(List\u003cMap\u003cString, Object\u003e\u003e list, HttpServletResponse response) throws IOException { String tempPath = System.getProperty(\"java.io.tmpdir\") + IdUtil.fastSimpleUUID() + \".xlsx\"; File file = new File(tempPath); BigExcelWriter writer = ExcelUtil.getBigWriter(file); // ä¸€æ¬¡æ€§å†™å‡ºå†…å®¹ï¼Œä½¿ç”¨é»˜è®¤æ ·å¼ï¼Œå¼ºåˆ¶è¾“å‡ºæ ‡é¢˜ writer.write(list, true); //responseä¸ºHttpServletResponseå¯¹è±¡ response.setContentType(\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8\"); //test.xlsæ˜¯å¼¹å‡ºä¸‹è½½å¯¹è¯æ¡†çš„æ–‡ä»¶åï¼Œä¸èƒ½ä¸ºä¸­æ–‡ï¼Œä¸­æ–‡è¯·è‡ªè¡Œç¼–ç  response.setHeader(\"Content-Disposition\", \"attachment;filename=file.xlsx\"); ServletOutputStream out = response.getOutputStream(); // ç»ˆæ­¢ååˆ é™¤ä¸´æ—¶æ–‡ä»¶ file.deleteOnExit(); writer.flush(out, true); //æ­¤å¤„è®°å¾—å…³é—­è¾“å‡ºServletæµ IoUtil.close(out); } /** * å°†æ–‡ä»¶åè§£ææˆæ–‡ä»¶çš„ä¸Šä¼ è·¯å¾„ */ public static File upload(MultipartFile file, String filePath) { String suffix = getExtensionName(file.getOriginalFilename()); StringBuffer nowStr = fileRename(); try { String fileName = nowStr + \".\" + suffix; String path = filePath + fileName; // getCanonicalFile å¯è§£ææ­£ç¡®å„ç§è·¯å¾„ File dest = new File(path).getCanonicalFile(); // æ£€æµ‹æ˜¯å¦å­˜åœ¨ç›®å½• if (!dest.getParentFile().exists()) { dest.getParentFile().mkdirs(); } // æ–‡ä»¶å†™å…¥ file.transferTo(dest); return dest; } catch (Exception e) { e.printStackTrace(); } return null; } /** * MultipartFileè½¬File */public static File toFile(MultipartFile multipartFile) { // è·å–æ–‡ä»¶å String fileName = multipartFile.getOriginalFilename(); // è·å–æ–‡ä»¶åç¼€ String prefix = \".\" + getExtensionName(fileName); File file = null; try { // ç”¨uuidä½œä¸ºæ–‡ä»¶åï¼Œé˜²æ­¢ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶é‡å¤ file = File.createTempFile(IdUtil.simpleUUID(), prefix); // MultipartFile to File multipartFile.transferTo(file); } catch (IOException e) { e.printStackTrace(); } return file; } /** * è·å–æ–‡ä»¶æ‰©å±•åï¼Œä¸å¸¦ . */public static String getExtensionName(String filename) { if ((filename != null) \u0026\u0026 (filename.length() \u003e 0)) { int dot = filename.lastIndexOf('.'); if ((dot \u003e -1) \u0026\u0026 (dot \u003c (filename.length() - 1))) { return filename.substring(dot + 1); } } return filename; } public static String getFileType(String type) { String documents = \"txt doc pdf ppt pps xlsx xls docx\"; String music = \"mp3 wav wma mpa ram ra aac aif m4a\"; String video = \"avi mpg mpe mpeg asf wmv mov qt rm mp4 flv m4v webm ogv ogg\"; String image = \"bmp dib pcp dif wmf gif jpg tif eps psd cdr iff tga pcd mpt png jpeg\"; if (image.contains(type)) { return \"pic\"; } else if (documents.contains(type)) { return \"txt\"; } else if (music.contains(type)) { return \"music\"; } else if (video.contains(type)) { return \"vedio\"; } else { return \"other\"; } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 package com.ruoyi.common.core.utils.ip; import java.net.InetAddress; import java.net.UnknownHostException; import javax.servlet.http.HttpServletRequest; import com.ruoyi.common.core.utils.StringUtils; /** * è·å–IPæ–¹æ³• * * @author zpc */public class IpUtils { /** * è·å–å®¢æˆ·ç«¯IP ** @param request è¯·æ±‚å¯¹è±¡ * @return IPåœ°å€ */ public static String getIpAddr(HttpServletRequest request) { if (request == null) { return \"unknown\"; } String ip = request.getHeader(\"x-forwarded-for\"); if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) { ip = request.getHeader(\"Proxy-Client-IP\"); } if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) { ip = request.getHeader(\"X-Forwarded-For\"); } if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) { ip = request.getHeader(\"WL-Proxy-Client-IP\"); } if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) { ip = request.getHeader(\"X-Real-IP\"); } if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) { ip = request.getRemoteAddr(); } return \"0:0:0:0:0:0:0:1\".equals(ip) ? \"127.0.0.1\" : getMultistageReverseProxyIp(ip); } /** * æ£€æŸ¥æ˜¯å¦ä¸ºå†…éƒ¨IPåœ°å€ * * @param ip IPåœ°å€ * @return ç»“æœ */ public static boolean internalIp(String ip) { byte[] addr = textToNumericFormatV4(ip); return internalIp(addr) || \"127.0.0.1\".equals(ip); } /** * æ£€æŸ¥æ˜¯å¦ä¸ºå†…éƒ¨IPåœ°å€ * * @param addr byteåœ°å€ * @return ç»“æœ */ private static boolean internalIp(byte[] addr) { if (StringUtils.isNull(addr) || addr.length \u003c 2) { return true; } final byte b0 = addr[0]; final byte b1 = addr[1]; // 10.x.x.x/8 final byte SECTION_1 = 0x0A; // 172.16.x.x/12 final byte SECTION_2 = (byte) 0xAC; final byte SECTION_3 = (byte) 0x10; final byte SECTION_4 = (byte) 0x1F; // 192.168.x.x/16 final byte SECTION_5 = (byte) 0xC0; final byte SECTION_6 = (byte) 0xA8; switch (b0) { case SECTION_1: return true; case SECTION_2: if (b1 \u003e= SECTION_3 \u0026\u0026 b1 \u003c= SECTION_4) { return true; } case SECTION_5: switch (b1) { case SECTION_6: return true; } default: return false; } } /** * å°†IPv4åœ°å€è½¬æ¢æˆå­—èŠ‚ * * @param text IPv4åœ°å€ * @return byte å­—èŠ‚ */ public static byte[] textToNumericFormatV4(String text) { if (text.length() == 0) { return null; } byte[] bytes = new byte[4]; String[] elements = text.split(\"\\\\.\", -1); try { long l; int i; switch (elements.length) { case 1: l = Long.parseLong(elements[0]); if ((l \u003c 0L) || (l \u003e 4294967295L)) { return null; } bytes[0] = (byte) (int) (l \u003e\u003e 24 \u0026 0xFF); bytes[1] = (byte) (int) ((l \u0026 0xFFFFFF) \u003e\u003e 16 \u0026 0xFF); bytes[2] = (byte) (int) ((l \u0026 0xFFFF) \u003e\u003e 8 \u0026 0xFF); bytes[3] = (byte) (int) (l \u0026 0xFF); break; case 2: l = Integer.parseInt(elements[0]); if ((l \u003c 0L) || (l \u003e 255L)) { return null; } bytes[0] = (byte) (int) (l \u0026 0xFF); l = Integer.parseInt(elements[1]); if ((l \u003c 0L) || (l \u003e 16777215L)) { return null; } bytes[1] = (byte) (int) (l \u003e\u003e 16 \u0026 0xFF); bytes[2] = (byte) (int) ((l \u0026 0xFFFF) \u003e\u003e 8 \u0026 0xFF); bytes[3] = (byte) (int) (l \u0026 0xFF); break; case 3: for (i = 0; i \u003c 2; ++i) { l = Integer.parseInt(elements[i]); if ((l \u003c 0L) || (l \u003e 255L)) { return null; } bytes[i] = (byte) (int) (l \u0026 0xFF); } l = Integer.parseInt(elements[2]); if ((l \u003c 0L) || (l \u003e 65535L)) { return null; } bytes[2] = (byte) (int) (l \u003e\u003e 8 \u0026 0xFF); bytes[3] = (byte) (int) (l \u0026 0xFF); break; case 4: for (i = 0; i \u003c 4; ++i) { l = Integer.parseInt(elements[i]); if ((l \u003c 0L) || (l \u003e 255L)) { return null; } bytes[i] = (byte) (int) (l \u0026 0xFF); } break; default: return null; } } catch (NumberFormatException e) { return null; } return bytes; } /** * è·å–IPåœ°å€ * * @return æœ¬åœ°IPåœ°å€ */ public static String getHostIp() { try { return InetAddress.getLocalHost().getHostAddress(); } catch (UnknownHostException e) { } return \"127.0.0.1\"; } /** * è·å–ä¸»æœºå * * @return æœ¬åœ°ä¸»æœºå */ public static String getHostName() { try { return InetAddress.getLocalHost().getHostName(); } catch (UnknownHostException e) { } return \"æœªçŸ¥\"; } /** * ä»å¤šçº§åå‘ä»£ç†ä¸­è·å¾—ç¬¬ä¸€ä¸ªéunknown IPåœ°å€ * * @param ip è·å¾—çš„IPåœ°å€ * @return ç¬¬ä¸€ä¸ªéunknown IPåœ°å€ */ public static String getMultistageReverseProxyIp(String ip) { // å¤šçº§åå‘ä»£ç†æ£€æµ‹ if (ip != null \u0026\u0026 ip.indexOf(\",\") \u003e 0) { final String[] ips = ip.trim().split(\",\"); for (String subIp : ips) { if (false == isUnknown(subIp)) { ip = subIp; break; } } } return ip; } /** * æ£€æµ‹ç»™å®šå­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœªçŸ¥ï¼Œå¤šç”¨äºæ£€æµ‹HTTPè¯·æ±‚ç›¸å…³ * * @param checkString è¢«æ£€æµ‹çš„å­—ç¬¦ä¸² * @return æ˜¯å¦æœªçŸ¥ */ public static boolean isUnknown(String checkString) { return StringUtils.isBlank(checkString) || \"unknown\".equalsIgnoreCase(checkString); } } æ–‡ä»¶æµä¸Šä¼  1 2 3 4 5 6 7 8 9 10 11 12 13 14 long begin=System.currentTimeMillis(); InputStream fis=multipartFile.getInputStream(); dest = new File(newFileName); FileOutputStream fos=new FileOutputStream(dest); //å…ˆå®šä¹‰ä¸€ä¸ªå­—èŠ‚ç¼“å†²åŒºï¼Œå‡å°‘I/Oæ¬¡æ•°ï¼Œæé«˜è¯»å†™æ•ˆç‡ byte[] buffer=new byte[10240]; int size=0; while((size=fis.read(buffer))!=-1){ fos.write(buffer, 0, size); } fis.close(); fos.close(); long end=System.currentTimeMillis(); log.info(\"ä½¿ç”¨æ–‡ä»¶è¾“å…¥æµå’Œæ–‡ä»¶è¾“å‡ºæµå®ç°æ–‡ä»¶çš„å¤åˆ¶å®Œæ¯•ï¼è€—æ—¶ï¼š{} æ¯«ç§’\",(end-begin)); COSæ–‡ä»¶ä¸Šä¼  ","wordCount":"2155","inLanguage":"en","datePublished":"2022-09-05T00:17:58+08:00","dateModified":"2022-09-05T00:17:58+08:00","author":[{"@type":"Person","name":"è—é”‹"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://zpc2222.github.io/posts/tech/java%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB/"},"publisher":{"@type":"Organization","name":"æˆ‘çš„ä¸ªäººå°ç«™","logo":{"@type":"ImageObject","url":"https://zpc2222.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script async src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script><header class=header><nav class=nav><div class=logo><a href=https://zpc2222.github.io accesskey=h title="æˆ‘çš„ä¸ªäººå°ç«™ (Alt + H)"><img src=https://zpc2222.github.io/img/Q.gif alt=logo aria-label=logo height=35>æˆ‘çš„ä¸ªäººå°ç«™</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zpc2222.github.io/search title="ğŸ” æœç´¢ (Alt + /)" accesskey=/><span>ğŸ” æœç´¢</span></a></li><li><a href=https://zpc2222.github.io/ title="ğŸ  ä¸»é¡µ"><span>ğŸ  ä¸»é¡µ</span></a></li><li><a href=https://zpc2222.github.io/posts title="ğŸ“š æ–‡ç« "><span>ğŸ“š æ–‡ç« </span></a></li><li><a href=https://zpc2222.github.io/tags title="ğŸ§© æ ‡ç­¾"><span>ğŸ§© æ ‡ç­¾</span></a></li><li><a href=https://zpc2222.github.io/archives/ title="â± æ—¶é—´è½´"><span>â± æ—¶é—´è½´</span></a></li><li><a href=https://zpc2222.github.io/music title="ğŸµ å¬å¬æ­Œ"><span>ğŸµ å¬å¬æ­Œ</span></a></li><li><a href=https://zpc2222.github.io/about title="ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº"><span>ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº</span></a></li><li><a href=https://zpc2222.github.io/links title="ğŸ¤ å‹é“¾"><span>ğŸ¤ å‹é“¾</span></a></li></ul></nav></header><main class="main page"><article class=post-single><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://zpc2222.github.io>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://zpc2222.github.io/posts/>ğŸ“šæ–‡ç« </a>&nbsp;Â»&nbsp;<a href=https://zpc2222.github.io/posts/tech/>ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯</a></div><h1 class=post-title>Javaå¸¸ç”¨å·¥å…·ç±»</h1><div class=post-description>ä¸€äº›å¸¸ç”¨çš„å·¥å…·ç±»ï¼Œè‡ªç”¨</div><div class=post-meta>åˆ›å»º:&nbsp;<span title='2022-09-05 00:17:58 +0800 +0800'>2022-09-05</span>&nbsp;|&nbsp;æ›´æ–°:&nbsp;2022-09-05&nbsp;|&nbsp;å­—æ•°:&nbsp;2155å­—&nbsp;|&nbsp;æ—¶é•¿:&nbsp;5åˆ†é’Ÿ&nbsp;|&nbsp;
ä½œè€…:&nbsp;è—é”‹
&nbsp;|&nbsp;æ ‡ç­¾: &nbsp;<ul class=post-tags-meta><a href=https://zpc2222.github.io/tags/java/>java</a>
<a href=https://zpc2222.github.io/tags/%E5%B7%A5%E5%85%B7%E7%B1%BB/>ã€å·¥å…·ç±»</a></ul><span id=busuanzi_container_page_pv>&nbsp;| è®¿é—®: <span id=busuanzi_value_page_pv></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>æ–‡ç« ç›®å½•</span></summary><div class=inner><ul><li><a href=#ip%e6%9f%a5%e8%af%a2%e7%9a%84%e4%b8%80%e4%ba%9b%e6%96%b9%e6%b3%95 aria-label=IPæŸ¥è¯¢çš„ä¸€äº›æ–¹æ³•>IPæŸ¥è¯¢çš„ä¸€äº›æ–¹æ³•</a></li><li><a href=#%e6%96%87%e4%bb%b6%e6%b5%81%e4%b8%8a%e4%bc%a0 aria-label=æ–‡ä»¶æµä¸Šä¼ >æ–‡ä»¶æµä¸Šä¼ </a></li><li><a href=#cos%e6%96%87%e4%bb%b6%e4%b8%8a%e4%bc%a0 aria-label=COSæ–‡ä»¶ä¸Šä¼ >COSæ–‡ä»¶ä¸Šä¼ </a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=ipæŸ¥è¯¢çš„ä¸€äº›æ–¹æ³•>IPæŸ¥è¯¢çš„ä¸€äº›æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#ipæŸ¥è¯¢çš„ä¸€äº›æ–¹æ³•>#</a></h1><p>IP_URL = &ldquo;<a href="http://whois.pconline.com.cn/ipJson.jsp?ip=%25s&json=true%22">http://whois.pconline.com.cn/ipJson.jsp?ip=%s&json=true"</a></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">111
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">114
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">115
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">116
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">117
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">118
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">119
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">120
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">121
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">122
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">123
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">124
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">125
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">126
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">127
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">128
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">129
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">130
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">131
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">132
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">133
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">134
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">135
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">136
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">137
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">138
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">139
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">140
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">141
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">142
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">143
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">144
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">145
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">146
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">147
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">148
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">149
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">150
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">151
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">152
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">153
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>* è·å–ipåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>getIp</span><span style=color:#f92672>(</span>HttpServletRequest request<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>   String ip <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span><span style=color:#a6e22e>getHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;x-forwarded-for&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>ip <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> 0 <span style=color:#f92672>||</span> UNKNOWN<span style=color:#f92672>.</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       ip <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span><span style=color:#a6e22e>getHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Proxy-Client-IP&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>ip <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> 0 <span style=color:#f92672>||</span> UNKNOWN<span style=color:#f92672>.</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       ip <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span><span style=color:#a6e22e>getHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;WL-Proxy-Client-IP&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>ip <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> 0 <span style=color:#f92672>||</span> UNKNOWN<span style=color:#f92672>.</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       ip <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span><span style=color:#a6e22e>getRemoteAddr</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   String comma <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;,&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   String localhost <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;127.0.0.1&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>ip<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span>comma<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       ip <span style=color:#f92672>=</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;,&#34;</span><span style=color:#f92672>)[</span>0<span style=color:#f92672>];</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>localhost<span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       <span style=color:#75715e>// è·å–æœ¬æœºçœŸæ­£çš„ipåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>       <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>           ip <span style=color:#f92672>=</span> InetAddress<span style=color:#f92672>.</span><span style=color:#a6e22e>getLocalHost</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getHostAddress</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>       <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>UnknownHostException e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>           e<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>       <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> ip<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>* æ ¹æ®ipè·å–è¯¦ç»†åœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>getCityInfo</span><span style=color:#f92672>(</span>String ip<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>   String api <span style=color:#f92672>=</span> String<span style=color:#f92672>.</span><span style=color:#a6e22e>format</span><span style=color:#f92672>(</span>IP_URL<span style=color:#f92672>,</span> ip<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   JSONObject object <span style=color:#f92672>=</span> JSONUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>parseObj</span><span style=color:#f92672>(</span>HttpUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>api<span style=color:#f92672>));</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> object<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;addr&#34;</span><span style=color:#f92672>,</span> String<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>* è·å¾—å½“å¤©æ˜¯å‘¨å‡   
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>getWeekDay</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>   String<span style=color:#f92672>[]</span> weekDays <span style=color:#f92672>=</span> <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;Sun&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;Mon&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;Tue&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;Wed&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;Thu&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;Fri&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;Sat&#34;</span><span style=color:#f92672>};</span>  
</span></span><span style=display:flex><span>   Calendar cal <span style=color:#f92672>=</span> Calendar<span style=color:#f92672>.</span><span style=color:#a6e22e>getInstance</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>   cal<span style=color:#f92672>.</span><span style=color:#a6e22e>setTime</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Date<span style=color:#f92672>());</span>  
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>int</span> w <span style=color:#f92672>=</span> cal<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>Calendar<span style=color:#f92672>.</span><span style=color:#a6e22e>DAY_OF_WEEK</span><span style=color:#f92672>)</span> <span style=color:#f92672>-</span> 1<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>w <span style=color:#f92672>&lt;</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       w <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> weekDays<span style=color:#f92672>[</span>w<span style=color:#f92672>];</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>getBrowser</span><span style=color:#f92672>(</span>HttpServletRequest request<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>   UserAgent userAgent <span style=color:#f92672>=</span> UserAgent<span style=color:#f92672>.</span><span style=color:#a6e22e>parseUserAgentString</span><span style=color:#f92672>(</span>request<span style=color:#f92672>.</span><span style=color:#a6e22e>getHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;User-Agent&#34;</span><span style=color:#f92672>));</span>  
</span></span><span style=display:flex><span>   Browser browser <span style=color:#f92672>=</span> userAgent<span style=color:#f92672>.</span><span style=color:#a6e22e>getBrowser</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> browser<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>* å¯¼å‡ºexcel  
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>downloadExcel</span><span style=color:#f92672>(</span>List<span style=color:#f92672>&lt;</span>Map<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>,</span> Object<span style=color:#f92672>&gt;&gt;</span> list<span style=color:#f92672>,</span> HttpServletResponse response<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>   String tempPath <span style=color:#f92672>=</span> System<span style=color:#f92672>.</span><span style=color:#a6e22e>getProperty</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;java.io.tmpdir&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>+</span> IdUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>fastSimpleUUID</span><span style=color:#f92672>()</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;.xlsx&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   File file <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span>tempPath<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   BigExcelWriter writer <span style=color:#f92672>=</span> ExcelUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>getBigWriter</span><span style=color:#f92672>(</span>file<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   <span style=color:#75715e>// ä¸€æ¬¡æ€§å†™å‡ºå†…å®¹ï¼Œä½¿ç”¨é»˜è®¤æ ·å¼ï¼Œå¼ºåˆ¶è¾“å‡ºæ ‡é¢˜  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   writer<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span>list<span style=color:#f92672>,</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   <span style=color:#75715e>//responseä¸ºHttpServletResponseå¯¹è±¡  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   response<span style=color:#f92672>.</span><span style=color:#a6e22e>setContentType</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   <span style=color:#75715e>//test.xlsæ˜¯å¼¹å‡ºä¸‹è½½å¯¹è¯æ¡†çš„æ–‡ä»¶åï¼Œä¸èƒ½ä¸ºä¸­æ–‡ï¼Œä¸­æ–‡è¯·è‡ªè¡Œç¼–ç   
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   response<span style=color:#f92672>.</span><span style=color:#a6e22e>setHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Content-Disposition&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;attachment;filename=file.xlsx&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   ServletOutputStream out <span style=color:#f92672>=</span> response<span style=color:#f92672>.</span><span style=color:#a6e22e>getOutputStream</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>   <span style=color:#75715e>// ç»ˆæ­¢ååˆ é™¤ä¸´æ—¶æ–‡ä»¶  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   file<span style=color:#f92672>.</span><span style=color:#a6e22e>deleteOnExit</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>   writer<span style=color:#f92672>.</span><span style=color:#a6e22e>flush</span><span style=color:#f92672>(</span>out<span style=color:#f92672>,</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   <span style=color:#75715e>//æ­¤å¤„è®°å¾—å…³é—­è¾“å‡ºServletæµ  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   IoUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>(</span>out<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>* å°†æ–‡ä»¶åè§£ææˆæ–‡ä»¶çš„ä¸Šä¼ è·¯å¾„  
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> File <span style=color:#a6e22e>upload</span><span style=color:#f92672>(</span>MultipartFile file<span style=color:#f92672>,</span> String filePath<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>    
</span></span><span style=display:flex><span>   String suffix <span style=color:#f92672>=</span> getExtensionName<span style=color:#f92672>(</span>file<span style=color:#f92672>.</span><span style=color:#a6e22e>getOriginalFilename</span><span style=color:#f92672>());</span>  
</span></span><span style=display:flex><span>   StringBuffer nowStr <span style=color:#f92672>=</span> fileRename<span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       String fileName <span style=color:#f92672>=</span> nowStr <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;.&#34;</span> <span style=color:#f92672>+</span> suffix<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>       String path <span style=color:#f92672>=</span> filePath <span style=color:#f92672>+</span> fileName<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>       <span style=color:#75715e>// getCanonicalFile å¯è§£ææ­£ç¡®å„ç§è·¯å¾„  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>       File dest <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span>path<span style=color:#f92672>).</span><span style=color:#a6e22e>getCanonicalFile</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>       <span style=color:#75715e>// æ£€æµ‹æ˜¯å¦å­˜åœ¨ç›®å½•  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>       <span style=color:#66d9ef>if</span> <span style=color:#f92672>(!</span>dest<span style=color:#f92672>.</span><span style=color:#a6e22e>getParentFile</span><span style=color:#f92672>().</span><span style=color:#a6e22e>exists</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>           dest<span style=color:#f92672>.</span><span style=color:#a6e22e>getParentFile</span><span style=color:#f92672>().</span><span style=color:#a6e22e>mkdirs</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>       <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>       <span style=color:#75715e>// æ–‡ä»¶å†™å…¥  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>       file<span style=color:#f92672>.</span><span style=color:#a6e22e>transferTo</span><span style=color:#f92672>(</span>dest<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>return</span> dest<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>Exception e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       e<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>* MultipartFileè½¬File  
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> File <span style=color:#a6e22e>toFile</span><span style=color:#f92672>(</span>MultipartFile multipartFile<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>   <span style=color:#75715e>// è·å–æ–‡ä»¶å  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   String fileName <span style=color:#f92672>=</span> multipartFile<span style=color:#f92672>.</span><span style=color:#a6e22e>getOriginalFilename</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>   <span style=color:#75715e>// è·å–æ–‡ä»¶åç¼€  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   String prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;.&#34;</span> <span style=color:#f92672>+</span> getExtensionName<span style=color:#f92672>(</span>fileName<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   File file <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       <span style=color:#75715e>// ç”¨uuidä½œä¸ºæ–‡ä»¶åï¼Œé˜²æ­¢ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶é‡å¤  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>       file <span style=color:#f92672>=</span> File<span style=color:#f92672>.</span><span style=color:#a6e22e>createTempFile</span><span style=color:#f92672>(</span>IdUtil<span style=color:#f92672>.</span><span style=color:#a6e22e>simpleUUID</span><span style=color:#f92672>(),</span> prefix<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>       <span style=color:#75715e>// MultipartFile to File  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>       multipartFile<span style=color:#f92672>.</span><span style=color:#a6e22e>transferTo</span><span style=color:#f92672>(</span>file<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>IOException e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       e<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> file<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>* è·å–æ–‡ä»¶æ‰©å±•åï¼Œä¸å¸¦ .  
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>getExtensionName</span><span style=color:#f92672>(</span>String filename<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span>filename <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>)</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>(</span>filename<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>&gt;</span> 0<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>int</span> dot <span style=color:#f92672>=</span> filename<span style=color:#f92672>.</span><span style=color:#a6e22e>lastIndexOf</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#39;.&#39;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span>dot <span style=color:#f92672>&gt;</span> <span style=color:#f92672>-</span>1<span style=color:#f92672>)</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>(</span>dot <span style=color:#f92672>&lt;</span> <span style=color:#f92672>(</span>filename<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>-</span> 1<span style=color:#f92672>)))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>           <span style=color:#66d9ef>return</span> filename<span style=color:#f92672>.</span><span style=color:#a6e22e>substring</span><span style=color:#f92672>(</span>dot <span style=color:#f92672>+</span> 1<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>       <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> filename<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>getFileType</span><span style=color:#f92672>(</span>String type<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>   String documents <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;txt doc pdf ppt pps xlsx xls docx&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   String music <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;mp3 wav wma mpa ram ra aac aif m4a&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   String video <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;avi mpg mpe mpeg asf wmv mov qt rm mp4 flv m4v webm ogv ogg&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   String image <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;bmp dib pcp dif wmf gif jpg tif eps psd cdr iff tga pcd mpt png jpeg&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>image<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span>type<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;pic&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>documents<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span>type<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;txt&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>music<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span>type<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;music&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>video<span style=color:#f92672>.</span><span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span>type<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;vedio&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>       <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;other&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>   <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">111
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">114
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">115
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">116
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">117
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">118
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">119
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">120
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">121
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">122
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">123
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">124
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">125
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">126
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">127
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">128
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">129
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">130
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">131
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">132
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">133
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">134
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">135
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">136
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">137
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">138
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">139
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">140
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">141
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">142
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">143
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">144
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">145
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">146
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">147
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">148
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">149
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">150
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">151
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">152
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">153
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">154
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">155
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">156
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">157
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">158
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">159
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">160
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">161
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">162
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">163
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">164
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">165
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">166
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">167
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">168
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">169
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">170
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">171
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">172
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">173
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">174
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">175
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">176
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">177
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">178
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">179
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">180
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">181
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">182
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">183
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">184
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">185
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">186
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">187
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">188
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">189
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">190
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">191
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">192
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">193
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">194
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">195
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">196
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">197
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">198
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">199
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">200
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">201
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">202
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">203
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">204
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">205
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">206
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">207
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">208
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">209
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">210
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">211
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">212
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">213
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">214
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">215
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">216
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">217
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">218
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">219
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">220
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">221
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">222
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">223
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">224
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">225
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">226
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">227
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">228
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">229
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">230
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">231
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">232
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">233
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">234
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">235
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">236
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">237
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">238
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">239
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">240
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">241
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">242
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">243
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">244
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">245
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">246
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">247
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">248
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">249
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">250
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">251
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">252
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">253
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">254
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">255
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">256
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">257
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.ruoyi.common.core.utils.ip<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.net.InetAddress<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.net.UnknownHostException<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> javax.servlet.http.HttpServletRequest<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> com.ruoyi.common.core.utils.StringUtils<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e> * è·å–IPæ–¹æ³•  
</span></span></span><span style=display:flex><span><span style=color:#75715e> *   
</span></span></span><span style=display:flex><span><span style=color:#75715e>* @author zpc  
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>IpUtils</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * è·å–å®¢æˆ·ç«¯IP  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     ** @param request è¯·æ±‚å¯¹è±¡  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return IPåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>getIpAddr</span><span style=color:#f92672>(</span>HttpServletRequest request<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>request <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;unknown&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        String ip <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span><span style=color:#a6e22e>getHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;x-forwarded-for&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>ip <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> 0 <span style=color:#f92672>||</span> <span style=color:#e6db74>&#34;unknown&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            ip <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span><span style=color:#a6e22e>getHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Proxy-Client-IP&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>ip <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> 0 <span style=color:#f92672>||</span> <span style=color:#e6db74>&#34;unknown&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            ip <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span><span style=color:#a6e22e>getHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;X-Forwarded-For&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>ip <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> 0 <span style=color:#f92672>||</span> <span style=color:#e6db74>&#34;unknown&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            ip <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span><span style=color:#a6e22e>getHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;WL-Proxy-Client-IP&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>ip <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> 0 <span style=color:#f92672>||</span> <span style=color:#e6db74>&#34;unknown&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            ip <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span><span style=color:#a6e22e>getHeader</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;X-Real-IP&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>ip <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> 0 <span style=color:#f92672>||</span> <span style=color:#e6db74>&#34;unknown&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            ip <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span><span style=color:#a6e22e>getRemoteAddr</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;0:0:0:0:0:0:0:1&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>)</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;127.0.0.1&#34;</span> <span style=color:#f92672>:</span> getMultistageReverseProxyIp<span style=color:#f92672>(</span>ip<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * æ£€æŸ¥æ˜¯å¦ä¸ºå†…éƒ¨IPåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *   
</span></span></span><span style=display:flex><span><span style=color:#75715e>* @param ip IPåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return ç»“æœ  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>internalIp</span><span style=color:#f92672>(</span>String ip<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> addr <span style=color:#f92672>=</span> textToNumericFormatV4<span style=color:#f92672>(</span>ip<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> internalIp<span style=color:#f92672>(</span>addr<span style=color:#f92672>)</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#34;127.0.0.1&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>ip<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * æ£€æŸ¥æ˜¯å¦ä¸ºå†…éƒ¨IPåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *   
</span></span></span><span style=display:flex><span><span style=color:#75715e>* @param addr byteåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return ç»“æœ  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>internalIp</span><span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> addr<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>StringUtils<span style=color:#f92672>.</span><span style=color:#a6e22e>isNull</span><span style=color:#f92672>(</span>addr<span style=color:#f92672>)</span> <span style=color:#f92672>||</span> addr<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span> <span style=color:#f92672>&lt;</span> 2<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> b0 <span style=color:#f92672>=</span> addr<span style=color:#f92672>[</span>0<span style=color:#f92672>];</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> b1 <span style=color:#f92672>=</span> addr<span style=color:#f92672>[</span>1<span style=color:#f92672>];</span>  
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 10.x.x.x/8  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> SECTION_1 <span style=color:#f92672>=</span> 0x0A<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 172.16.x.x/12  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> SECTION_2 <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xAC<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> SECTION_3 <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x10<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> SECTION_4 <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0x1F<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 192.168.x.x/16  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> SECTION_5 <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xC0<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>byte</span> SECTION_6 <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> 0xA8<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>switch</span> <span style=color:#f92672>(</span>b0<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>case</span> SECTION_1<span style=color:#f92672>:</span>  
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>case</span> SECTION_2<span style=color:#f92672>:</span>  
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>b1 <span style=color:#f92672>&gt;=</span> SECTION_3 <span style=color:#f92672>&amp;&amp;</span> b1 <span style=color:#f92672>&lt;=</span> SECTION_4<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>                <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>case</span> SECTION_5<span style=color:#f92672>:</span>  
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>switch</span> <span style=color:#f92672>(</span>b1<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>                <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>case</span> SECTION_6<span style=color:#f92672>:</span>  
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>                <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>  
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * å°†IPv4åœ°å€è½¬æ¢æˆå­—èŠ‚  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *   
</span></span></span><span style=display:flex><span><span style=color:#75715e>* @param text IPv4åœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return byte å­—èŠ‚  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>textToNumericFormatV4</span><span style=color:#f92672>(</span>String text<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>text<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> 0<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> bytes <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>4<span style=color:#f92672>];</span>  
</span></span><span style=display:flex><span>        String<span style=color:#f92672>[]</span> elements <span style=color:#f92672>=</span> text<span style=color:#f92672>.</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;\\.&#34;</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span>1<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>long</span> l<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>int</span> i<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>switch</span> <span style=color:#f92672>(</span>elements<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>            <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> 1<span style=color:#f92672>:</span>  
</span></span><span style=display:flex><span>                    l <span style=color:#f92672>=</span> Long<span style=color:#f92672>.</span><span style=color:#a6e22e>parseLong</span><span style=color:#f92672>(</span>elements<span style=color:#f92672>[</span>0<span style=color:#f92672>]);</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span>l <span style=color:#f92672>&lt;</span> 0L<span style=color:#f92672>)</span> <span style=color:#f92672>||</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&gt;</span> 4294967295L<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>                    bytes<span style=color:#f92672>[</span>0<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&gt;&gt;</span> 24 <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    bytes<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>((</span>l <span style=color:#f92672>&amp;</span> 0xFFFFFF<span style=color:#f92672>)</span> <span style=color:#f92672>&gt;&gt;</span> 16 <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    bytes<span style=color:#f92672>[</span>2<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>((</span>l <span style=color:#f92672>&amp;</span> 0xFFFF<span style=color:#f92672>)</span> <span style=color:#f92672>&gt;&gt;</span> 8 <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    bytes<span style=color:#f92672>[</span>3<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>                <span style=color:#66d9ef>case</span> 2<span style=color:#f92672>:</span>  
</span></span><span style=display:flex><span>                    l <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>elements<span style=color:#f92672>[</span>0<span style=color:#f92672>]);</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span>l <span style=color:#f92672>&lt;</span> 0L<span style=color:#f92672>)</span> <span style=color:#f92672>||</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&gt;</span> 255L<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>                    bytes<span style=color:#f92672>[</span>0<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    l <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>elements<span style=color:#f92672>[</span>1<span style=color:#f92672>]);</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span>l <span style=color:#f92672>&lt;</span> 0L<span style=color:#f92672>)</span> <span style=color:#f92672>||</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&gt;</span> 16777215L<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>                    bytes<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&gt;&gt;</span> 16 <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    bytes<span style=color:#f92672>[</span>2<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>((</span>l <span style=color:#f92672>&amp;</span> 0xFFFF<span style=color:#f92672>)</span> <span style=color:#f92672>&gt;&gt;</span> 8 <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    bytes<span style=color:#f92672>[</span>3<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>                <span style=color:#66d9ef>case</span> 3<span style=color:#f92672>:</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 2<span style=color:#f92672>;</span> <span style=color:#f92672>++</span>i<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                        l <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>elements<span style=color:#f92672>[</span>i<span style=color:#f92672>]);</span>  
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span>l <span style=color:#f92672>&lt;</span> 0L<span style=color:#f92672>)</span> <span style=color:#f92672>||</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&gt;</span> 255L<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>                        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>                        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>                        bytes<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>                    l <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>elements<span style=color:#f92672>[</span>2<span style=color:#f92672>]);</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span>l <span style=color:#f92672>&lt;</span> 0L<span style=color:#f92672>)</span> <span style=color:#f92672>||</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&gt;</span> 65535L<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>                    bytes<span style=color:#f92672>[</span>2<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&gt;&gt;</span> 8 <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    bytes<span style=color:#f92672>[</span>3<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>                <span style=color:#66d9ef>case</span> 4<span style=color:#f92672>:</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 4<span style=color:#f92672>;</span> <span style=color:#f92672>++</span>i<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                        l <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>elements<span style=color:#f92672>[</span>i<span style=color:#f92672>]);</span>  
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span>l <span style=color:#f92672>&lt;</span> 0L<span style=color:#f92672>)</span> <span style=color:#f92672>||</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&gt;</span> 255L<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>                        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>                        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>                        bytes<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>byte</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>)</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&amp;</span> 0xFF<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>                    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>default</span><span style=color:#f92672>:</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>NumberFormatException e<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> bytes<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * è·å–IPåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *   
</span></span></span><span style=display:flex><span><span style=color:#75715e>* @return æœ¬åœ°IPåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>getHostIp</span><span style=color:#f92672>()</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> InetAddress<span style=color:#f92672>.</span><span style=color:#a6e22e>getLocalHost</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getHostAddress</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>UnknownHostException e<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;127.0.0.1&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * è·å–ä¸»æœºå  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *   
</span></span></span><span style=display:flex><span><span style=color:#75715e>* @return æœ¬åœ°ä¸»æœºå  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>getHostName</span><span style=color:#f92672>()</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> InetAddress<span style=color:#f92672>.</span><span style=color:#a6e22e>getLocalHost</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getHostName</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>UnknownHostException e<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;æœªçŸ¥&#34;</span><span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * ä»å¤šçº§åå‘ä»£ç†ä¸­è·å¾—ç¬¬ä¸€ä¸ªéunknown IPåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param ip è·å¾—çš„IPåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return ç¬¬ä¸€ä¸ªéunknown IPåœ°å€  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>getMultistageReverseProxyIp</span><span style=color:#f92672>(</span>String ip<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#75715e>// å¤šçº§åå‘ä»£ç†æ£€æµ‹  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>ip <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>&amp;&amp;</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>indexOf</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;,&#34;</span><span style=color:#f92672>)</span> <span style=color:#f92672>&gt;</span> 0<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>final</span> String<span style=color:#f92672>[]</span> ips <span style=color:#f92672>=</span> ip<span style=color:#f92672>.</span><span style=color:#a6e22e>trim</span><span style=color:#f92672>().</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;,&#34;</span><span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>String subIp <span style=color:#f92672>:</span> ips<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>            <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>false</span> <span style=color:#f92672>==</span> isUnknown<span style=color:#f92672>(</span>subIp<span style=color:#f92672>))</span>  
</span></span><span style=display:flex><span>                <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>                    ip <span style=color:#f92672>=</span> subIp<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span><span style=color:#f92672>;</span>                <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> ip<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * æ£€æµ‹ç»™å®šå­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœªçŸ¥ï¼Œå¤šç”¨äºæ£€æµ‹HTTPè¯·æ±‚ç›¸å…³  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param checkString è¢«æ£€æµ‹çš„å­—ç¬¦ä¸²  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return æ˜¯å¦æœªçŸ¥  
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>isUnknown</span><span style=color:#f92672>(</span>String checkString<span style=color:#f92672>)</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span>  
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> StringUtils<span style=color:#f92672>.</span><span style=color:#a6e22e>isBlank</span><span style=color:#f92672>(</span>checkString<span style=color:#f92672>)</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#34;unknown&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equalsIgnoreCase</span><span style=color:#f92672>(</span>checkString<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=æ–‡ä»¶æµä¸Šä¼ >æ–‡ä»¶æµä¸Šä¼ <a hidden class=anchor aria-hidden=true href=#æ–‡ä»¶æµä¸Šä¼ >#</a></h1><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span> <span style=color:#66d9ef>long</span> begin<span style=color:#f92672>=</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>currentTimeMillis</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span> InputStream fis<span style=color:#f92672>=</span>multipartFile<span style=color:#f92672>.</span><span style=color:#a6e22e>getInputStream</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span> dest <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> File<span style=color:#f92672>(</span>newFileName<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span> FileOutputStream fos<span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> FileOutputStream<span style=color:#f92672>(</span>dest<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span> <span style=color:#75715e>//å…ˆå®šä¹‰ä¸€ä¸ªå­—èŠ‚ç¼“å†²åŒºï¼Œå‡å°‘I/Oæ¬¡æ•°ï¼Œæé«˜è¯»å†™æ•ˆç‡  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[]</span> buffer<span style=color:#f92672>=</span><span style=color:#66d9ef>new</span> <span style=color:#66d9ef>byte</span><span style=color:#f92672>[</span>10240<span style=color:#f92672>];</span>  
</span></span><span style=display:flex><span> <span style=color:#66d9ef>int</span> size<span style=color:#f92672>=</span>0<span style=color:#f92672>;</span>  
</span></span><span style=display:flex><span> <span style=color:#66d9ef>while</span><span style=color:#f92672>((</span>size<span style=color:#f92672>=</span>fis<span style=color:#f92672>.</span><span style=color:#a6e22e>read</span><span style=color:#f92672>(</span>buffer<span style=color:#f92672>))!=-</span>1<span style=color:#f92672>){</span>  
</span></span><span style=display:flex><span>     fos<span style=color:#f92672>.</span><span style=color:#a6e22e>write</span><span style=color:#f92672>(</span>buffer<span style=color:#f92672>,</span> 0<span style=color:#f92672>,</span> size<span style=color:#f92672>);</span>  
</span></span><span style=display:flex><span> <span style=color:#f92672>}</span>  
</span></span><span style=display:flex><span> fis<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span> fos<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span> <span style=color:#66d9ef>long</span> end<span style=color:#f92672>=</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>currentTimeMillis</span><span style=color:#f92672>();</span>  
</span></span><span style=display:flex><span>log<span style=color:#f92672>.</span><span style=color:#a6e22e>info</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ä½¿ç”¨æ–‡ä»¶è¾“å…¥æµå’Œæ–‡ä»¶è¾“å‡ºæµå®ç°æ–‡ä»¶çš„å¤åˆ¶å®Œæ¯•ï¼è€—æ—¶ï¼š{} æ¯«ç§’&#34;</span><span style=color:#f92672>,(</span>end<span style=color:#f92672>-</span>begin<span style=color:#f92672>));</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=cosæ–‡ä»¶ä¸Šä¼ >COSæ–‡ä»¶ä¸Šä¼ <a hidden class=anchor aria-hidden=true href=#cosæ–‡ä»¶ä¸Šä¼ >#</a></h1></div><div style="padding:10px 0;margin:20px auto;width:100%;font-size:16px;text-align:center">â˜• è¯·æˆ‘å–æ¯å’–å•¡å§ ãƒ¾(^â–½^*)))
<button id=rewardButton disable=enable onclick='var qr=document.getElementById("QR");qr.style.display==="none"?qr.style.display="block":qr.style.display="none"'>
<span>æ‰“èµ</span></button><div id=QR style=display:none><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=https://zpc2222.github.io/img/wechat-pay.jpg alt="WeChat Pay" style=width:280px;height:280px></a><p>å¾®ä¿¡</p></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=https://zpc2222.github.io/img/ali-pay.jpg alt=Alipay style=width:280px;height:280px></a><p>æ”¯ä»˜å®</p></div></div></div><footer class=post-footer><nav class=paginav><a class=prev href=https://zpc2222.github.io/posts/tech/cron%E8%A1%A8%E8%BE%BE%E5%BC%8F/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>cronè¡¨è¾¾å¼</span></a>
<a class=next href=https://zpc2222.github.io/posts/tech/jvm%E5%88%86%E6%9E%90/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>JVMåˆ†æ</span></a></nav></footer></div><div><div class=pagination__title><span class=pagination__title-h style=font-size:20px>ğŸ’¬è¯„è®º</span><hr></div><div id=tcomment></div><script src=https://cdn.staticfile.org/twikoo/1.6.7/twikoo.all.min.js></script><script>twikoo.init({envId:"https://vercel-zpc2222.vercel.app",el:"#tcomment",lang:"zh-CN",region:null,path:window.TWIKOO_MAGIC_PATH||window.location.pathname})</script></div></article></main><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><footer class=footer><span>Copyright
&copy;
2022-2022
<a href=https://zpc2222.github.io style=color:#939393>æˆ‘çš„ä¸ªäººå°ç«™</a>
All Rights Reserved</span>
<span id=busuanzi_container><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css>æ€»è®¿å®¢æ•°: <i class="fa fa-user"></i><span id=busuanzi_value_site_uv></span>
æ€»è®¿é—®é‡: <i class="fa fa-eye"></i><span id=busuanzi_value_site_pv></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg><span id=read_progress></span></span></a>
<script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>400||document.documentElement.scrollTop>400?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.body.addEventListener("copy",function(e){if(window.getSelection().toString()&&window.getSelection().toString().length>50){let t=e.clipboardData||window.clipboardData;if(t){e.preventDefault();let n=window.getSelection().toString()+`

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œæˆ‘çš„ä¸ªäººå°ç«™ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚
åŸæ–‡é“¾æ¥ï¼š`+location.href,s=window.getSelection().toString()+`

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œæˆ‘çš„ä¸ªäººå°ç«™ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚
åŸæ–‡é“¾æ¥ï¼š`+location.href;t.setData("text/html",n),t.setData("text/plain",s)}}})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="ğŸ“„å¤åˆ¶";function s(){t.innerText="ğŸ‘ŒğŸ»å·²å¤åˆ¶!",setTimeout(()=>{t.innerText="ğŸ“„å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){let t=e.textContent+`
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œæˆ‘çš„ä¸ªäººå°ç«™ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚
åŸæ–‡é“¾æ¥ï¼š`+location.href;navigator.clipboard.writeText(t),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>